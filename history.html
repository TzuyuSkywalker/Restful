<!DOCTYPE html>
<html lang="es" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Yolo Guild | Historial</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="css/styles.css" />
    <style>
      /* ðŸ”¥ Ladder-flame border */
      @keyframes ladderFire {
        0% {
          box-shadow: 0 0 4px 0 #ff6600, 0 0 8px 0 #ffaa00;
        }
        50% {
          box-shadow: 0 0 8px 2px #ff3300, 0 0 16px 4px #ffaa00;
        }
        100% {
          box-shadow: 0 0 4px 0 #ff6600, 0 0 8px 0 #ffaa00;
        }
      }
      .ladder-fire {
        border-radius: 0.375rem;
        animation: ladderFire 2s ease-in-out infinite;
        background: transparent;
        pointer-events: none;
      }
    </style>
    </head>

  <body>
    <!-- Navbar Esmeralda -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top glass-effect">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img
            src="img/nicelogo.png"
            alt="Yolo Guild"
            width="32"
            height="32"
            class="me-2"
          />
          <span class="d-none d-sm-inline">Yolo Guild</span>
          <span class="badge bg-success ms-2 d-none d-md-inline"
            >Historical Logs</span
          >
        </a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarMain"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarMain">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html"
                ><i class="bi bi-trophy me-1"></i>Loot</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="admin.html"
                ><i class="bi bi-shield-lock me-1"></i>Admin</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="#"
                ><i class="bi bi-clock-history me-1"></i>Winners History</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="rules.html"
                ><i class="bi bi-book me-1"></i>Rules</a
              >
            </li>
          </ul>

          <div class="d-flex align-items-center">
            <span
              class="navbar-text me-3 d-none d-lg-block"
              id="current-user-display"
            >
              <i class="bi bi-person-circle me-1"></i>
              <span>Invitado</span>
            </span>
            <button
              id="logout-btn"
              class="btn btn-outline-light"
              style="display: none"
            >
              <i class="bi bi-box-arrow-right me-1"></i>Salir
            </button>
          </div>
        </div>
      </div>
    </nav>

    <!-- Contenido principal -->
    <main class="container my-4 position-relative">
      <!-- History Panel -->
      <div id="history-panel" class="card card-emerald fade-in">
        <div class="card-header">
          <h2 class="h4 mb-0 text-emerald">
            <i class="bi bi-trophy-fill me-2"></i>Congratulations! Winners
            History
          </h2>
        </div>
        <div class="card-body p-0">
          <div class="table-responsive position-relative ladder-fire">
            <!-- animated flame border -->
            <table class="table table-hover mb-0">
              <thead>
                <tr>
                  <th><i class="bi bi-gem me-1"></i>Item</th>
                  <th><i class="bi bi-person-fill me-1"></i>Winner</th>
                  <th><i class="bi bi-calendar-event me-1"></i>Date</th>
                </tr>
              </thead>
              <tbody id="winners-history-table-body">
                <!-- Datos dinÃ¡micos -->
                <tr>
                  <td colspan="3" class="text-center py-4 text-muted">
                    <i class="bi bi-database-exclamation fs-4 d-block mb-2"></i>
                    No winners yet.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="card-footer bg-transparent">
          <small class="text-muted"
            >Last Update: <span id="last-update">today</span></small
          >
        </div>
      </div>
    </main>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/config.js" defer></script>
    <script src="js/script.js" defer></script>
    <script src="js/effect.js" defer></script>

    <!-- Visual Effects -->
    <div id="money-rain"></div>
    <div class="fire-corner top-left"></div>
    <div class="fire-corner top-right"></div>
    <div class="fire-corner bottom-left"></div>
    <div class="fire-corner bottom-right"></div>
    <div id="loot-particles"></div>
    <canvas id="smoke-canvas"></canvas>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        setTimeout(() => {
          document.querySelector("nav").style.opacity = "1";
          document.querySelector("#history-panel").style.opacity = "1";
        }, 100);
      });
    </script>
  </body>
</html>
